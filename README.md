<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# log

```go
import "github.com/go-coldbrew/log"
```

Package log provides a minimal interface for structured logging in services\. ColdBrew uses this log package for all logs\.

### How To Use

The simplest way to use this package is by calling static log functions to report particular level \(error/warning/info/debug\) log\.Error\(\.\.\.\) log\.Warn\(\.\.\.\) log\.Info\(\.\.\.\) log\.Debug\(\.\.\.\)

You can also initialize a new logger by calling 'log\.NewLogger' and passing a loggers\.BaseLogger implementation \(loggers package provides a number of pre built implementations\) logger := log\.NewLogger\(gokit\.NewLogger\(\)\) logger\.Info\(ctx\, "key"\, "value"\)

Note: Preferred logging output is in either logfmt or json format\, so to facilitate these log function arguments should be in pairs of key\-value

### Contextual Logs

log package uses context\.Context to pass additional information to logs\, you can use 'loggers\.AddToLogContext' function to add additional information to logs\. For example in access log from service \{"@timestamp":"2018\-07\-30T09:58:18\.262948679Z"\,"caller":"http/http\.go:66"\,"error":null\,"grpcMethod":"/AuthSvc\.AuthService/Authenticate"\,"level":"info"\,"method":"POST"\,"path":"/2\.0/authenticate/"\,"took":"1\.356812ms"\,"trace":"15592e1b\-93df\-11e8\-bdfd\-0242ac110002"\,"transport":"http"\} we pass 'method'\, 'path'\, 'grpcMethod' and 'transport' from context\, this information gets automatically added to all log calls called inside the service and makes debugging services much easier\. ColdBrew also generates a 'trace' ID per request\, this can be used to trace an entire request path in logs\.

this package is based on https://github.com/carousell/Orion/tree/master/utils/log

## Index

- [func Debug(ctx context.Context, args ...interface{})](<#func-debug>)
- [func Error(ctx context.Context, args ...interface{})](<#func-error>)
- [func GetLevel() loggers.Level](<#func-getlevel>)
- [func Info(ctx context.Context, args ...interface{})](<#func-info>)
- [func SetLevel(level loggers.Level)](<#func-setlevel>)
- [func SetLogger(l Logger)](<#func-setlogger>)
- [func Warn(ctx context.Context, args ...interface{})](<#func-warn>)
- [type Logger](<#type-logger>)
  - [func GetLogger() Logger](<#func-getlogger>)
  - [func NewLogger(log loggers.BaseLogger) Logger](<#func-newlogger>)


## func Debug

```go
func Debug(ctx context.Context, args ...interface{})
```

Debug writes out a debug log to global logger

## func Error

```go
func Error(ctx context.Context, args ...interface{})
```

Error writes out an error log to global logger

## func GetLevel

```go
func GetLevel() loggers.Level
```

GetLevel returns the current log level

## func Info

```go
func Info(ctx context.Context, args ...interface{})
```

Info writes out an info log to global logger

## func SetLevel

```go
func SetLevel(level loggers.Level)
```

SetLevel sets the log level to filter logs

## func SetLogger

```go
func SetLogger(l Logger)
```

SetLogger sets the global logger

## func Warn

```go
func Warn(ctx context.Context, args ...interface{})
```

Warn writes out a warning log to global logger

## type Logger

Logger interface is implemnted by the log implementation

```go
type Logger interface {
    loggers.BaseLogger
    Debug(ctx context.Context, args ...interface{})
    Info(ctx context.Context, args ...interface{})
    Warn(ctx context.Context, args ...interface{})
    Error(ctx context.Context, args ...interface{})
}
```

### func GetLogger

```go
func GetLogger() Logger
```

GetLogger returns the global logger

### func NewLogger

```go
func NewLogger(log loggers.BaseLogger) Logger
```

NewLogger creates a new logger with a provided BaseLogger

# loggers

```go
import "github.com/go-coldbrew/log/loggers"
```

Package loggers provides loggers implementation for log package

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func AddToLogContext(ctx context.Context, key string, value interface{}) context.Context](<#func-addtologcontext>)
- [func FetchCallerInfo(skip int, depth int) (function string, file string, line int)](<#func-fetchcallerinfo>)
- [type BaseLogger](<#type-baselogger>)
- [type Level](<#type-level>)
  - [func ParseLevel(lvl string) (Level, error)](<#func-parselevel>)
  - [func (level Level) String() string](<#func-level-string>)
- [type LogFields](<#type-logfields>)
  - [func FromContext(ctx context.Context) LogFields](<#func-fromcontext>)
  - [func (o LogFields) Add(key string, value interface{})](<#func-logfields-add>)
  - [func (o LogFields) Del(key string)](<#func-logfields-del>)
- [type Option](<#type-option>)
  - [func WithCallerFieldName(name string) Option](<#func-withcallerfieldname>)
  - [func WithCallerFileDepth(depth int) Option](<#func-withcallerfiledepth>)
  - [func WithCallerInfo(callerInfo bool) Option](<#func-withcallerinfo>)
  - [func WithJSONLogs(json bool) Option](<#func-withjsonlogs>)
  - [func WithLevelFieldName(name string) Option](<#func-withlevelfieldname>)
  - [func WithReplaceStdLogger(replaceStdLogger bool) Option](<#func-withreplacestdlogger>)
  - [func WithTimestampFieldName(name string) Option](<#func-withtimestampfieldname>)
- [type Options](<#type-options>)
  - [func GetDefaultOptions() Options](<#func-getdefaultoptions>)


## Constants

These are the different logging levels\. You can set the logging level to log on your instance of logger\, obtained with \`logs\.New\(\)\`\.

```go
const (
    // ErrorLevel level. Logs. Used for errors that should definitely be noted.
    // Commonly used for hooks to send errors to an error tracking service.
    ErrorLevel = iota
    // WarnLevel level. Non-critical entries that deserve eyes.
    WarnLevel
    // InfoLevel level. General operational entries about what's going on inside the
    // application.
    InfoLevel
    // DebugLevel level. Usually only enabled when debugging. Very verbose logging.
    DebugLevel
)
```

## Variables

AllLevels A constant exposing all logging levels

```go
var AllLevels = []Level{
    ErrorLevel,
    WarnLevel,
    InfoLevel,
    DebugLevel,
}
```

DefaultOptions stores all default options in loggers package

```go
var (
    DefaultOptions = Options{
        ReplaceStdLogger:   false,
        JSONLogs:           true,
        Level:              InfoLevel,
        TimestampFieldName: "@timestamp",
        LevelFieldName:     "level",
        CallerInfo:         true,
        CallerFileDepth:    2,
        CallerFieldName:    "caller",
    }
)
```

## func AddToLogContext

```go
func AddToLogContext(ctx context.Context, key string, value interface{}) context.Context
```

AddToLogContext adds log fields to context\. Any info added here will be added to all logs using this context

## func FetchCallerInfo

```go
func FetchCallerInfo(skip int, depth int) (function string, file string, line int)
```

FetchCallerInfo fetches function name\, file name and line number from stack

## type BaseLogger

BaseLogger is the interface that needs to be implemented by client loggers

```go
type BaseLogger interface {
    Log(ctx context.Context, level Level, skip int, args ...interface{})
    SetLevel(level Level)
    GetLevel() Level
}
```

## type Level

Level type

```go
type Level uint32
```

### func ParseLevel

```go
func ParseLevel(lvl string) (Level, error)
```

ParseLevel takes a string level and returns the log level constant\.

### func \(Level\) String

```go
func (level Level) String() string
```

Convert the Level to a string\. E\.g\.  ErrorLevel becomes "error"\.

## type LogFields

LogFields contains all fields that have to be added to logs

```go
type LogFields map[string]interface{}
```

### func FromContext

```go
func FromContext(ctx context.Context) LogFields
```

FromContext fetchs log fields from provided context

### func \(LogFields\) Add

```go
func (o LogFields) Add(key string, value interface{})
```

Add or modify log fields

### func \(LogFields\) Del

```go
func (o LogFields) Del(key string)
```

Del deletes a log field entry

## type Option

Option defines an option for BaseLogger

```go
type Option func(*Options)
```

### func WithCallerFieldName

```go
func WithCallerFieldName(name string) Option
```

WithCallerFieldName sets the name of callerinfo field

### func WithCallerFileDepth

```go
func WithCallerFileDepth(depth int) Option
```

WithCallerFileDepth sets the depth of file to use in caller info

### func WithCallerInfo

```go
func WithCallerInfo(callerInfo bool) Option
```

WithCallerInfo enables/disables adding caller info to logs

### func WithJSONLogs

```go
func WithJSONLogs(json bool) Option
```

WithJSONLogs enables/disables json logs

### func WithLevelFieldName

```go
func WithLevelFieldName(name string) Option
```

WithLevelFieldName sets the name of the level field in logs

### func WithReplaceStdLogger

```go
func WithReplaceStdLogger(replaceStdLogger bool) Option
```

WithReplaceStdLogger enables/disables replacing std logger

### func WithTimestampFieldName

```go
func WithTimestampFieldName(name string) Option
```

WithTimestampFieldName sets the name of the time stamp field in logs

## type Options

Options contain all common options for BaseLoggers

```go
type Options struct {
    ReplaceStdLogger   bool
    JSONLogs           bool
    Level              Level
    TimestampFieldName string
    LevelFieldName     string
    CallerInfo         bool
    CallerFileDepth    int
    CallerFieldName    string
}
```

### func GetDefaultOptions

```go
func GetDefaultOptions() Options
```

GetDefaultOptions fetches loggers default options

# wrap

```go
import "github.com/go-coldbrew/log/wrap"
```

Package wrap provides multiple wrap functions to wrap log implementation of other log packages

## Index

- [func ToGoKitLogger(l log.Logger) basegokit.Logger](<#func-togokitlogger>)


## func ToGoKitLogger

```go
func ToGoKitLogger(l log.Logger) basegokit.Logger
```

ToGoKitLogger wraps a log\.Logger to gokit/log\.Logger

# gokit

```go
import "github.com/go-coldbrew/log/loggers/gokit"
```

Package gokit provides BaseLogger implementation for go\-kit/log

## Index

- [func NewLogger(options ...loggers.Option) loggers.BaseLogger](<#func-newlogger>)


## func NewLogger

```go
func NewLogger(options ...loggers.Option) loggers.BaseLogger
```

NewLogger returns a base logger impl for go\-kit log

# logrus

```go
import "github.com/go-coldbrew/log/loggers/logrus"
```

Package logrus provides a BaseLogger implementation for logrus

## Index

- [func NewLogger(options ...loggers.Option) loggers.BaseLogger](<#func-newlogger>)


## func NewLogger

```go
func NewLogger(options ...loggers.Option) loggers.BaseLogger
```

NewLogger returns a BaseLogger impl for logrus

# stdlog

```go
import "github.com/go-coldbrew/log/loggers/stdlog"
```

Package stdlog provides a BaseLogger implementation for golang "log" package

## Index

- [func NewLogger(options ...loggers.Option) loggers.BaseLogger](<#func-newlogger>)


## func NewLogger

```go
func NewLogger(options ...loggers.Option) loggers.BaseLogger
```

NewLogger returns a BaseLogger impl for golang "log" package



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
